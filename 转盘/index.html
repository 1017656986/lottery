<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è½¬ç›˜</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            list-style-type: none;
            background-color: whitesmoke;
        }

        body {
            background-image: url("https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201802%2F05%2F20180205102851_G253e.jpeg&refer=http%3A%2F%2Fb-ssl.duitang.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1646230425&t=35dcb1af6b36ca0b62a0f15c1fe91038");
            background-size: 100% 100%;
        }

        #title {
            height: 50px;
            background-color: white;
            line-height: 50px;
            padding-left: 10px;
            font-size: 18px;
            font-weight: bold;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
        }

        #main {
            margin: 10px auto;
            width: 300px;
            padding-top: 50px;
            background-color: transparent;
        }

        h3 {
            background-color: transparent;
            color: white;
        }

        #roulette {
            width: 300px;
            height: 300px;
            background-color: white;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            border-radius: 5px;
            align-items: center;
        }

        #roulette li {
            width: 90px;
            height: 90px;
            background-color: salmon;
            margin: 5px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #list {
            background-color: white;
            width: 280px;
            padding: 10px;
            border-radius: 5px;
        }

        #list li {
            margin: 10px;
            background-color: transparent;
        }

        ul {
            margin: 10px 0;
        }

        #dialog {
            height: 200px;
            position: absolute;
            top: 30%;
            left: 20px;
            right: 20px;
            border-radius: 5px;
            padding: 10px;
            display: none;
            background-color: red;
            background-image: url("https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fbj-yuantu.fotomore.com%2Fcreative%2Fvcg%2Fnew%2FVCG211353186375.jpg%3FExpires%3D1643621487%26OSSAccessKeyId%3DLTAI2pb9T0vkLPEC%26Signature%3DuTzJWnselHPrAfHxwN62L9MelUk%253D%26x-oss-process%3Dimage%252Fauto-orient%252C0%252Fsaveexif%252C1%252Fresize%252Cm_lfit%252Ch_1200%252Cw_1200%252Climit_1%252Fsharpen%252C100%252Fquality%252CQ_80%252Fwatermark%252Cg_se%252Cx_0%252Cy_0%252Cimage_d2F0ZXIvdmNnLXdhdGVyLTIwMDAucG5nP3gtb3NzLXByb2Nlc3M9aW1hZ2UvcmVzaXplLG1fbGZpdCxoXzE3MSx3XzE3MSxsaW1pdF8x%252F&refer=http%3A%2F%2Fbj-yuantu.fotomore.com&app=2002&size=f10000,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1646230163&t=96f32e12f4089aca5412df1a3925bd46");
            background-size: 110% 110%;
            box-shadow: 0px 0px 30px 1px black;
        }

        #dialog p {
            color: white;
            font-weight: bold;
            background-color: transparent;
        }

        #dialog div {
            width: 60px;
            height: 40px;
            background-color: white;
            border-radius: 5px;
            color: black;
            text-align: center;
            line-height: 40px;
            position: absolute;
            right: 10px;
            bottom: 10px;
        }
    </style>
</head>

<body>
    <div id="title">ç»™å°å§œçš„æ–°å¹´æƒŠå–œ</div>
    <div id="main">
        <h3>æŠ½å¥–ï¼š</h3>
        <ul id="roulette">
            <li>ä¸€ç­‰å¥–</li>
            <li>äºŒç­‰å¥–</li>
            <li>ä¸‰ç­‰å¥–</li>
            <li>è°¢è°¢å‚ä¸</li>
            <li>å¼€å§‹</li>
            <li>å››ç­‰å¥–</li>
            <li>ä¸ƒç­‰å¥–</li>
            <li>å…­ç­‰å¥–</li>
            <li>äº”ç­‰å¥–</li>
        </ul>

        <h3>å¥–åŠ±ï¼š</h3>
        <ul id="list">
            <li>1ã€ç­”åº”äº‹æƒ…&nbsp&nbsp<b>æ¦‚ç‡ï¼š1%</b></li>
            <li>2ã€å«å£°çˆ¸çˆ¸&nbsp&nbsp<b>æ¦‚ç‡ï¼š3%</b></li>
            <li>3ã€çš®è‚¤ä»»é€‰&nbsp&nbsp<b>æ¦‚ç‡ï¼š6%</b></li>
            <li>4ã€æ‹œå¹´çº¢åŒ…&nbsp&nbsp<b>æ¦‚ç‡ï¼š10%</b></li>
            <li>5ã€å°å°ç¤¼ç‰©&nbsp&nbsp<b>æ¦‚ç‡ï¼š10%</b></li>
            <li>6ã€è€å…¬äº²äº²&nbsp&nbsp<b>æ¦‚ç‡ï¼š20%</b></li>
            <li>7ã€è€å©†äº²äº²&nbsp&nbsp<b>æ¦‚ç‡ï¼š20%</b></li>
            <li>8ã€è°¢è°¢å‚ä¸&nbsp&nbsp<b>æ¦‚ç‡ï¼š30%</b></li>
        </ul>
    </div>

    <div id="dialog">
        <p></p>
        <div>ç»§ç»­</div>
    </div>

    <script>
        let li = document.querySelectorAll("#roulette li");
        let list = [0, 1, 2, 5, 8, 7, 6, 3];
        let dialog = document.querySelector("#dialog");
        let p = document.querySelector("#dialog p");
        let closure = document.querySelector("#dialog div");

        var cycle = function (data) {
            for (var i = 0; i < list.length - data; i++) {
                (function (t) {
                    setTimeout(function () {
                        for (let i = 0; i < li.length; i++) {
                            li[i].style.backgroundColor = "salmon";
                        }
                        li[list[t]].style.backgroundColor = "red";
                    }, 200 * t);
                })(i)
            }
        }

        var pop = function (data) {
            setTimeout(function () {
                dialog.style.display = "block";
                p.innerHTML = "" + data;
            }, 2000);
        }

        closure.onclick = function () {
            dialog.style.display = "none";
        }

        li[4].onclick = function () {
            let random = Math.floor((Math.random() * 100) + 1);
            cycle(0);
            setTimeout(function () {
                cycle(0);
            }, 1600);
            setTimeout(function () {
                if (random == 1) {
                    // ä¸€ç­‰å¥– 1%
                    cycle(7);
                    pop("æ­å–œæŠ½åˆ°äº†: ä¸€ç­‰å¥–ï¼Œå¤ªå‰å®³äº†å§");
                } else if (random >= 2 && random <= 4) {
                    // äºŒç­‰å¥– 3%
                    cycle(6);
                    pop("æ­å–œæŠ½åˆ°äº†: äºŒç­‰å¥–ï¼Œè¿™æ˜¯ä»€ä¹ˆç¥ä»™æ‰‹æ°”");
                } else if (random >= 5 && random <= 10) {
                    // ä¸‰ç­‰å¥– 6%
                    cycle(5);
                    pop("æ­å–œæŠ½åˆ°äº†: ä¸‰ç­‰å¥–ï¼Œå“‡å¡çœŸğŸ‚å“‡");
                } else if (random >= 11 && random <= 20) {
                    // å››ç­‰å¥– 10%
                    cycle(4);
                    pop("æ­å–œæŠ½åˆ°äº†: å››ç­‰å¥–ï¼Œæ‹œå¹´çº¢åŒ…ä¸€ä¸ªçœŸä¸æˆ³");
                } else if (random >= 21 && random <= 30) {
                    // äº”ç­‰å¥– 10%
                    cycle(3);
                    pop("æ­å–œæŠ½åˆ°äº†: äº”ç­‰å¥–ï¼Œæ‹œå¹´å°ç¤¼ç‰©ï¼Œè¿æ°”ä¸é”™å“¦");
                } else if (random >= 31 && random <= 50) {
                    // å…­ç­‰å¥– 20%
                    cycle(2);
                    pop("æ­å–œæŠ½åˆ°äº†: å…­ç­‰å¥–ï¼Œå¿«ç»™è€å…¬æ‰“ç”µè¯è¦äº²äº²å“ˆ");
                } else if (random >= 51 && random <= 70) {
                    // ä¸ƒç­‰å¥– 20%
                    cycle(1);
                    pop("æ­å–œæŠ½åˆ°äº†: ä¸ƒç­‰å¥–ï¼Œè€å©†äº²äº²ä¹ˆä¹ˆä¹ˆ");
                } else if (random >= 71 && random <= 100) {
                    // è°¢è°¢å‚ä¸ 30%
                    cycle(0);
                    pop("æ²¡æŠ½åˆ°ç»§ç»­åŠªåŠ›å“ˆï¼");
                }
            }, 3200);
        }

    </script>

</body>

</html>